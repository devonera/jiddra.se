!function(e,t,n){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.CookiesEuBanner=t()}(window,function(){"use strict";var e,t=window.document;return(e=function(t,n,o){if(!(this instanceof e))return new e(t);this.cookieTimeout=33696e6,this.bots=/bot|googlebot|crawler|spider|robot|crawling/i,this.cookieName="hasConsent",this.trackingCookiesNames=["__utma","__utmb","__utmc","__utmt","__utmv","__utmz","_ga","_gat","_gid"],this.launchFunction=t,this.waitAccept=n||!1,this.init()}).prototype={init:function(){return!(this.isBot()||!this.isToTrack()||!1===this.hasConsent())&&(!0===this.hasConsent()?(this.launchFunction(),!0):(this.showBanner(),void(this.waitAccept||this.setCookie(this.cookieName,!0))))},showBanner:function(){var e=this,n=t.getElementById("cookies-eu-banner"),o=t.getElementById("cookies-eu-reject"),i=t.getElementById("cookies-eu-accept"),a=t.getElementById("cookies-eu-more"),c=void 0===n.dataset.waitRemove?0:parseInt(n.dataset.waitRemove);n.style.display="block",a&&this.addEventListener(a,"click",function(){e.deleteCookie(e.cookieName)}),i&&this.addEventListener(i,"click",function(){e.removeBanner(n,c),e.setCookie(e.cookieName,!0),e.launchFunction()}),o&&this.addEventListener(o,"click",function(){e.removeBanner(n,c),e.setCookie(e.cookieName,!1),e.deleteTrackingCookies()})},hasConsent:function(){return t.cookie.indexOf(this.cookieName+"=true")>-1||!(t.cookie.indexOf(this.cookieName+"=false")>-1)&&null},isBot:function(){return this.bots.test(navigator.userAgent)},isToTrack:function(){var e=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack;return null==e||e&&"yes"!==e&&1!==e&&"1"!==e},deleteTrackingCookies:function(){var e=this;this.trackingCookiesNames.map(function(t){e.deleteCookie(t)})},setCookie:function(e,n){var o=new Date;o.setTime(o.getTime()+this.cookieTimeout),t.cookie=e+"="+n+";expires="+o.toGMTString()+";path=/"},deleteCookie:function(e){var n=t.location.hostname;0===n.indexOf("www.")&&(n=n.substring(4)),t.cookie=e+"=; domain=."+n+"; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/",t.cookie=e+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/"},addEventListener:function(e,n,o){t.addEventListener?e.addEventListener(n,o):e.attachEvent&&e.attachEvent("on"+n,o)},removeBanner:function(e,t){setTimeout(function(){e.parentNode.removeChild(e)},t)}},e});var affiliateBeautifier=function(){var e={};return e.init=function(t){e.elements=document.querySelectorAll(t.selector),e.event(),e.switch(t)},e.switch=function(){[].forEach.call(e.elements,function(t){e.get(t),e.set(t)})},e.event=function(){["mousedown","touchstart"].forEach(function(t){e.elements.forEach(function(e){e.addEventListener(t,function(t){e.setAttribute("href",e.getAttribute("data-href"))})})})},e.get=function(t){e.getHref(t),e.getDataHref(t)},e.set=function(t){e.setHref(t),e.setDataHref(t)},e.getHref=function(t){e.href=t.getAttribute("href")},e.getDataHref=function(t){var n=t.getAttribute("data-href");e.data_href=Boolean(n)?n:e.href},e.setHref=function(t){t.setAttribute("href",e.data_href)},e.setDataHref=function(t){t.setAttribute("data-href",e.href)},e}(),tabbis=function(){var e,t,n,o,i={},a=["tab","pane"],c=[],s=[],r=[],l=[],u=[];return i.init=function(t){console.log("init"),e=t,i.setDefaults(),i.setMemory(),c.tab=document.querySelectorAll(e.tabGroup),c.pane=document.querySelectorAll(e.paneGroup);for(var a=0;a<c.tab.length;a++)for(var s=c.tab[a].children,r=0;r<s.length;r++)s[r].addEventListener("click",i.onClick.bind(this,a,r),!1),n=a,o=r,i.hasMemory()&&i.setNodes(a,r)},i.onClick=function(e,t){console.log("click"),i.setNodes(e,t),i.setCallback(n,o)},i.setNodes=function(e,c){n=e,o=c;for(var s=0;s<a.length;s++)t=a[s],i.setActiveGroup(),i.setActiveChildren(),i.setActiveItems(),i.putActiveClass();u[e]=[],u[e][c]=!0,localStorage.setItem("tabbis",JSON.stringify(u))},i.hasMemory=function(){if(void 0!==u&&void 0!==u[n]&&void 0!==u[n][o]&&!0===u[n][o])return!0},i.setMemory=function(){null!==localStorage.getItem("tabbis")&&0!=localStorage.getItem("tabbis").length&&(u=Object.values(JSON.parse(localStorage.getItem("tabbis"))))},i.putActiveClass=function(){for(var n=0;n<r[t].length;n++)r[t][n].classList.remove(e[t+"Active"]);l[t].classList.add(e[t+"Active"])},i.setDefaults=function(){for(var e=0;e<a.length;e++)t=a[e],i.setOption(t+"Group","[data-"+t+"s]"),i.setOption(t+"Active","active")},i.setOption=function(t,n){(e=e||[])[t]=e[t]||n},i.setActiveGroup=function(){s[t]=c[t][n]},i.setActiveChildren=function(){r[t]=s[t].children},i.setActiveItems=function(){l[t]=r[t][o]},i.setCallback=function(){"function"==typeof e.callback&&e.callback(l.tab,l.pane)},i.reset=function(){for(var t=0;t<c.tab.length;t++){tabItems=c.tab[t].children,paneItems=c.pane[t].children;for(var n=0;n<tabItems.length;n++)tabItems[n].classList.remove(e.tabActive),paneItems[n].classList.remove(e.paneActive)}localStorage.removeItem("tabbis")},i}(),data=function(){var e={init:function(){e.collection={},e.selector={},e.selector.range='[data-panes] > .active input[type="range"]',e.selector.checkbox='[data-panes] > .active .checkboxes input[type="checkbox"]',e.selector.select="[data-panes] > .active .selectboxes select",Object.keys(e.selector).forEach(function(t){e.get(t),e.trigger(t)}),e.collection=Object.assign({},e.collection)},go:function(){e.collection=[],Object.keys(e.selector).forEach(function(t){e.get(t)}),e.collection=Object.assign({},e.collection),e.ajax()},get:function(t){var n=e.selector[t],o=document.querySelectorAll(n);for(i=0;i<o.length;i++){var a=o[i];e.collection[a.getAttribute("name")]=window.data[t](a)}},ajax:function(){var t=JSON.stringify(e.collection);fetch("http://localhost/io/sites/jiddra.se/api",{method:"POST",body:t,headers:{"Content-Type":"Content-Type: application/json"}}).then(function(e){return e.text()}).then(function(e){console.log(e),document.querySelector(".results").innerHTML=e})},range:function(e){return e.value},checkbox:function(e){return e.checked},select:function(e){return e.options[e.selectedIndex].value},trigger:function(t){var n=e.selector[t],o=document.querySelectorAll(n);for(i=0;i<o.length;i++)o[i].onchange=function(){e.go()}}};return e}(),CustomSelect=function(e){var t="string"==typeof e.elem?document.getElementById(e.elem):e.elem,n="js-Dropdown-title",o="is-selected",i="is-open",a=t.querySelectorAll("option"),c=a.length,s=document.createElement("div");s.className="js-Dropdown",t.id&&(s.id="custom-"+t.id);var r=document.createElement("button");r.className=n,r.textContent=a[0].textContent;var l=document.createElement("ul");l.className="js-Dropdown-list";for(var u=0;u<c;u++){var d=document.createElement("li");d.innerText=a[u].textContent,d.setAttribute("data-value",a[u].value),d.setAttribute("data-index",u),null!==a[u].getAttribute("selected")&&(d.classList.add(o),r.textContent=a[u].textContent),l.appendChild(d)}function f(){l.classList.toggle(i)}function h(){l.classList.remove(i)}return s.appendChild(r),s.appendChild(l),s.addEventListener("click",function(e){e.preventDefault();var i=e.target;i.className===n&&f();if("LI"===i.tagName){s.querySelector("."+n).innerText=i.innerText,t.options.selectedIndex=i.getAttribute("data-index");var a=new CustomEvent("change");t.dispatchEvent(a);for(var r=0;r<c;r++)l.querySelectorAll("li")[r].classList.remove(o);i.classList.add(o),h()}}),t.parentNode.insertBefore(s,t),t.style.display="none",document.addEventListener("click",function(e){s.contains(e.target)||h()}),{toggle:f,close:h,open:function(){l.classList.add(i)}}};